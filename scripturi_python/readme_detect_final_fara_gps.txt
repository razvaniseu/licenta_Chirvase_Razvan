Acest script Python este realizat pentru detectia automata a ursilor in imagini, videoclipuri sau fluxuri live de la camera, folosind modelul YOLO si transmiterea de alerte SMS cu coordonate geografice, fiind ideal pentru sisteme de monitorizare wildlife sau aplicatii de securitate. Scriptul proceseaza cadrele din surse multiple (imagine, folder, video, camera USB, Picamera), identifica obiectele din fiecare frame si, daca este detectat un urs cu incredere peste pragul ales, trimite automat un mesaj de avertizare prin SMS.

O componenta cheie a acestui script este integrarea cu un modul GPS, conectat prin port serial, pentru obtinerea coordonatelor geografice exacte ale detectiei. Daca GPS-ul functioneaza si returneaza coordonate valide, acestea sunt folosite pentru a genera mesajul de alerta, care se transmite prin modulul GSM catre un numar de telefon presetat. Scriptul previne trimiterea de mesaje duplicate, memorand ultima locatie pentru care a trimis alerta, si nu retrimite SMS decat daca locatia se schimba.

Noutatea principala fata de varianta initiala a codului este gestionarea inteligenta a cazului in care modulul GPS nu este disponibil, nu raspunde sau nu poate furniza coordonate valide (de exemplu, in interior sau in timpul unei demonstratii cand semnalul GPS lipseste). In aceasta situatie, scriptul nu blocheaza transmiterea alertei, ci foloseste automat o pereche de coordonate prestabilite (44.433633, 26.056708 - localizare pe Bucuresti), astfel incat mesajul SMS sa fie transmis oricum la detectia ursului. Practic, se asigura ca sistemul ramane functional si demonstreaza transmiterea automata de alerte chiar si in lipsa unei conexiuni GPS reale, ceea ce este extrem de util in timpul prezentarilor, testelor sau demonstratiilor indoor.

Procesul de selectie a coordonatelor functioneaza astfel: daca, in momentul detectiei, in maxim 2 secunde nu pot fi citite coordonate valide de la GPS, scriptul va insera automat coordonatele predefinite in mesaj. Mesajul este apoi transmis la fel ca in cazul in care ar exista coordonate reale, asigurand o experienta de utilizare fluida si fara blocaje din cauza hardware-ului GPS. Aceasta modificare creste robustetea si versatilitatea sistemului, permitand utilizatorului sa prezinte functionalitatea de alarma in orice context, fara griji legate de acoperirea GPS.

Restul functionalitatilor sunt mentinute: afisare bounding box-uri pe frame-uri, posibilitate de inregistrare video cu rezultate, afisare FPS si numar de obiecte detectate. Configurarea ramane simpla, direct din linia de comanda, iar scriptul poate fi adaptat si pentru alte clase de interes, nu doar pentru detectia ursilor.

In concluzie, acest cod imbunatatit permite transmiterea de alerte automate la detectia de obiecte, chiar si in conditii in care sistemul GPS nu furnizeaza informatii, asigurand ca functionalitatea cheie a aplicatiei – trimiterea SMS-ului de avertizare – ramane activa in orice situatie.